<html>
<head>
    <title>AR & VR Experiences</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
</head>
<body>

    <a-scene vr-mode-ui="enabled: false" embedded arjs="sourceType: webcam; trackingMethod: best; debugUIEnabled: false;">

        <a-entity camera look-controls></a-entity>

        <a-marker type='nft' url='https://raw.githack.com/AR-js-org/AR.js/master/data/images/space-station.nft'>
            <a-entity obj-model="obj: #space-station; mtl: #space-station-mtl" scale="0.02 0.02 0.02"></a-entity>
                 </a-marker>

        <a-entity id="space-station" position="0 0 0">
            <a-entity id="space-station-obj" class="clickable" obj-model="obj: #space-station; mtl: #space-station-mtl" scale="0.02 0.02 0.02"></a-entity>
        </a-entity>

    </a-scene>

    <script>
        // Get user's location
        navigator.geolocation.getCurrentPosition(function (position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Calculate the difference between the coordinates
            var latDifference = latitude - 51.125;
            var lonDifference = longitude - 0.125;

            // Set the position of the space station
            document.querySelector('#space-station-obj').object3D.position.set(latDifference, 0, lonDifference);
        });
      set(latDifference, 0, lonDifference);
        });

        // Add VR button
        var vrButton = document.createElement('button');
        vrButton.innerHTML = 'VR Mode';
        vrButton.addEventListener('click', function () {
            document.querySelector('a-scene').enterVR();

            // Make the space station fly
            document.querySelector('#space-station-obj').setAttribute('animation',
                {
                    property: 'position',
                    to: '-10 15 -20',
                    dur: 5000
                });
        });
        document.querySelector('a-scene').appendChild(vrButton);
    </script>

<a-assets>
    <a-asset-item id="space-station" src="https://raw.githack.com/AR-js-org/AR.js/master/data/models/space-station/space-station.obj"></a-asset-item>
    <a-asset-item id="space-station-mtl" src="https://raw.githack.com/AR-js-org/AR.js/master/data/models/space-station/space-station.mtl"></a-asset-item>
</a-assets>


// Set the position of the space station
        document.querySelector('#space-station-obj').object3D.position.set(latDifference, 0, lonDifference);
    });

    // Add VR button
    var vrButton = document.createElement('button');
    vrButton.innerHTML = 'VR Mode';
    vrButton.addEventListener('click', function () {
        document.querySelector('a-scene').enterVR();

        // Make the space station fly
        document.querySelector('#space-station-obj').setAttribute('animation',
            {
                property: 'position',
                to: '-10 15 -20',
                dur: 5000
            });
    });
    document.querySelector('a-scene').appendChild(vrButton);
</script>

</body>
</html>


